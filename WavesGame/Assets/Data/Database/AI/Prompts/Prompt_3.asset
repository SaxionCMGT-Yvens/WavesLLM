%YAML 1.1
%TAG !u! tag:unity3d.com,2011:
--- !u!114 &11400000
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: e89ac9b32d19465c8a6cd64ced4e709b, type: 3}
  m_Name: Prompt_3
  m_EditorClassIdentifier: Assembly-CSharp::Actors.AI.LlmAI.LlmPromptSo
  prompt: "You are an AI player controlling a ship in WavesST, a turn-based naval
    strategy game. Your faction is `@faction@`. The enemy factions are [`@enemy_factions@`].\n\n---\n\n##
    GAME MECHANICS\n\n- **Grid Movement**: Move on a rectangular grid using Manhattan
    distance (no diagonals). Your movement range is `@move_count@` tiles per turn.\n-
    **Path Validity**: If your path crosses a wave, you are **pushed immediately
    in the wave's direction**, and movement ends. If your final position is a wave,
    you are pushed **after** movement.\n - Example: Moving onto `~>` (Right) at (10,11)
    pushes you to (11,11).\n- **Attack Rules**:\n  - **Range**: `@attack_range@`
    tiles.\n  - **Offset**: `@attack_offset@` tiles (minimum distance to attack).\n   
    *(Example: Offset=1 means you cannot attack adjacent tiles. Offset=0 allows adjacent
    attacks.)*\n  - Attacking through waves extends your shot along the wave's direction.\n-
    **Wave Tiles**: Symbolized as `~>` (Up), `~v` (Down), `~<` (Left), `~>` (Right),
    among others. Moving onto waves pushes you and may cause damage.\n- **Victory**:
    Eliminate all enemy ships.\n- **Coordinate System**:\n  - (0,0) = BOTTOM-LEFT.
    (`@grid_size@`) = TOP-RIGHT.\n  - \"Up\" = +y (toward TOP, y=19). \"Down\" =
    -y (toward BOTTOM, y=0).\n  - Example: Moving \"to the top\" means increasing
    y (e.g., (10,13) \u2192 (10,14)).\n\n---\n\n## CURRENT STATE\n\n- **Your Ship**:
    `@self_status@`\n- **Position**: (`@self_x@`, `@self_y@`)\n\n---\n\n## AVAILABLE
    ACTIONS\n\n### Movement Options (Radius `@move_count@`)\n**Allowed Positions**:
    \n- You *HAVE* to move to one of these positions.\n`@safe_movement_positions@`\n**Risky
    Positions**:\n- Waves: `@wave_movement_positions@` *(Example: (10,11) = `~>`
    \u2192 pushes to (11,11))*\n- Enemies/Allies: `@blocked_movement_positions@`
    *(Cannot move here)*\n\n### Attack Options\n- **Range**: `@attack_range@` | **Offset**:
    `@attack_offset@`\n- **Current Attackable Positions**: `@current_attack_positions@`
    *(No Movement)*\n\n---\n\n## GRID OVERVIEW\n`@grid_overview_symbolic@`\n\n---\n\n##
    RULES\n- **Movement**: Manhattan distance only. Paths through waves end at the
    wave.\n- **Blocking**: Cannot move onto tiles occupied by other ships.\n- **Friendly
    Fire**: *DO NOT* attacking allies!\n\t- **Only attack tiles marked as \"Enemy\"
    or \"Target\" in the grid.**\n- **Strategy**: \n\t- Prioritize low-health enemies.
    Use waves to extend attacks or movement.\n\t - Never target allies, regardless
    of their health.\n**BEFORE RESPONDING, VERIFY:**\n\t1. Is the **attack target**
    an **ENEMY** or **TARGET**? If not, **DO NOT ATTACK**.\n\t2. Is the target within
    **range (@attack_range@)** and **offset (@attack_offset@)**?\n\t3. Is the **movement
    path** free of **waves** and **blocked tiles**?\n- **Move After Attack**: Use
    \"move_after_attack\" **only if** your ship can move again after attacking. Otherwise,
    use `[-1, -1]`.\n- **Skip Actions**: Use `[-1, -1]` to skip.\n-- **Example Valid
    Attack**:\n```json\n{\n  \"reasoning\": \"Attack enemy at [7,12]; high health
    but only target in range.\",\n  \"movement\": [-1, -1],\n  \"attack\": [7, 12],\n 
    \"move_after_attack\": [-1, -1]\n}\n```\n\n---\n\n## RESPONSE FORMAT\n**CRITICAL:**
    Output **ONLY** a valid JSON object that exactly matches the structure below.
    Do not include any other text, explanations, or markdown formatting before or
    after the JSON. Do not wrap the JSON in code blocks or quotes. Limit \"reasoning\"
    to 15 words.\n```json\n{\n  \"reasoning\": \"Goal + risk mitigation (e.g., 'Avoid
    wave; target low-health enemy')\",\n  \"movement\": [x1, y1],\n  \"attack\":
    [x2, y2],\n  \"move_after_attack\": [x3, y3]\n}\n"
  includeEmptySpaces: 0
